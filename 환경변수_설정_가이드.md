# 🔧 환경 변수 설정 가이드

이 프로젝트는 **자동 전송 모드**만 지원합니다.

---

## 📋 .env 파일 설정 (로컬 개발용)

프로젝트 루트에 `.env` 파일을 만들고 아래 내용을 추가하세요.

```env
# 필수
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/XXXX/YYYY/ZZZZ
SCHOOL_MENU_WEBSITE_URL=https://mportal2.cau.ac.kr/main.do

# 선택사항
SCHOOL_CODE=
SCHOOL_MENU_API_URL=
SELENIUM_HEADLESS=false  # 로컬 테스트 시 false (자동 설정됨)
```

---

## 🔐 GitHub Actions Secrets 설정

GitHub Actions에서 실행하려면 **Secrets**에 다음 값들을 추가해야 합니다.

### 📍 설정 위치
1. GitHub 리포지토리 → **Settings**
2. 왼쪽 메뉴 → **Secrets and variables** → **Actions**
3. **New repository secret** 클릭

---

### ✅ 필수 Secrets

다음 Secrets를 추가하세요:

| Secret 이름 | 설명 | 필수 여부 |
|------------|------|----------|
| `SLACK_WEBHOOK_URL` | Slack Webhook URL | ✅ 필수 |
| `SCHOOL_MENU_WEBSITE_URL` | 학교 홈페이지 URL | ✅ 필수 |
| `SCHOOL_CODE` | 학교 코드 | ⚠️ 선택 |
| `SCHOOL_MENU_API_URL` | 학교 API URL | ⚠️ 선택 |

**참고:** `SELENIUM_HEADLESS`는 워크플로우에서 자동으로 `"true"`로 설정됩니다.

---

## 📝 각 환경 변수 상세 설명

### 1. SLACK_WEBHOOK_URL
- **용도**: 메뉴를 전송할 때 사용
- **형식**: `https://hooks.slack.com/services/XXXX/YYYY/ZZZZ`
- **가져오는 방법**:
  1. Slack API 웹사이트 접속
  2. 앱 선택 → **Incoming Webhooks**
  3. **Webhook URL** 복사

### 2. SCHOOL_MENU_WEBSITE_URL
- **용도**: 크롤링할 학교 홈페이지 URL
- **형식**: `https://학교도메인.ac.kr/경로`
- **예시**: `https://mportal2.cau.ac.kr/main.do`

### 3. SCHOOL_CODE
- **용도**: 학교 API를 사용하는 경우 (선택사항)
- **형식**: 문자열
- **기본값**: 비워두면 크롤링 모드 사용

### 4. SCHOOL_MENU_API_URL
- **용도**: 학교 API를 사용하는 경우 (선택사항)
- **형식**: `https://api.example.com/menu`
- **기본값**: 비워두면 크롤링 모드 사용

### 5. SELENIUM_HEADLESS
- **용도**: Selenium 브라우저를 헤드리스 모드로 실행할지 여부
- **값**: `"true"` 또는 `"false"`
- **로컬 테스트**: 자동으로 `false` (브라우저 창 표시)
- **서버/GitHub Actions**: 자동으로 `true` (브라우저 창 없이 실행)

---

## 🎯 사용 시나리오별 설정

### 시나리오 1: 로컬에서 테스트만 하기
```env
SLACK_WEBHOOK_URL=https://hooks.slack.com/...
SCHOOL_MENU_WEBSITE_URL=https://mportal2.cau.ac.kr/main.do
```

### 시나리오 2: GitHub Actions로 자동 전송
**GitHub Secrets에 추가:**
- `SLACK_WEBHOOK_URL`
- `SCHOOL_MENU_WEBSITE_URL`

---

## ⚠️ 주의사항

1. **`.env` 파일은 절대 Git에 커밋하지 마세요!**
   - `.gitignore`에 포함되어 있어야 합니다.

2. **GitHub Secrets는 암호화되어 저장됩니다.**
   - 코드에 직접 토큰을 적지 마세요.

3. **로컬과 서버 환경 변수는 다를 수 있습니다.**
   - 로컬: `.env` 파일 사용
   - GitHub Actions: Secrets 사용

---

## ✅ 체크리스트

### 설정 확인
- [ ] `.env`에 `SLACK_WEBHOOK_URL` 설정
- [ ] `.env`에 `SCHOOL_MENU_WEBSITE_URL` 설정
- [ ] GitHub Secrets에 `SLACK_WEBHOOK_URL` 추가
- [ ] GitHub Secrets에 `SCHOOL_MENU_WEBSITE_URL` 추가
